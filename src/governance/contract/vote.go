package contract

import (
	"common"
	ethcom "vm/common"
	"math/big"
)

/*
**  Creator: pxf
**  Date: 2018/4/13 下午5:56
**  Description: 
*/
const (
VOTE_ABI = `[{"constant":false,"inputs":[{"name":"approval","type":"bool"}],"name":"vote","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"pass","type":"bool"}],"name":"updateCredit","outputs":[],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"config","outputs":[{"name":"DepositMin","type":"uint64"},{"name":"TotalDepositMin","type":"uint64"},{"name":"VoterCntMin","type":"uint64"},{"name":"ApprovalDepositMin","type":"uint64"},{"name":"ApprovalVoterCntMin","type":"uint64"},{"name":"DeadlineBlock","type":"uint64"},{"name":"StatBlock","type":"uint64"},{"name":"EffectBlock","type":"uint64"},{"name":"DepositGap","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"_canVote","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"handleDeposit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"checkResult","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"voters","outputs":[{"name":"voted","type":"bool"},{"name":"delegate","type":"address"},{"name":"approval","type":"bool"},{"name":"voteBlock","type":"uint64"},{"name":"deposit","type":"uint64"},{"name":"depositBlock","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"who","type":"address"}],"name":"delegateTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"value","type":"uint64"}],"name":"addDeposit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"voterAddrList","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"ac","type":"address"}],"name":"voterInfo","outputs":[{"name":"addr","type":"address"},{"name":"voted","type":"bool"},{"name":"delegate","type":"address"},{"name":"asDelegates","type":"address[]"},{"name":"approval","type":"bool"},{"name":"voteBlock","type":"uint64"},{"name":"deposit","type":"uint64"},{"name":"depositBlock","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"caddr","type":"address"},{"name":"DepositMin","type":"uint64"},{"name":"TotalDepositMin","type":"uint64"},{"name":"VoterCntMin","type":"uint64"},{"name":"ApprovalDepositMin","type":"uint64"},{"name":"ApprovalVoterCntMin","type":"uint64"},{"name":"DeadlineBlock","type":"uint64"},{"name":"StatBlock","type":"uint64"},{"name":"EffectBlock","type":"uint64"},{"name":"DepositGap","type":"uint64"},{"name":"cvs","type":"uint64"},{"name":"cls","type":"uint64"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]`
VOTE_CODE = `606060405234156200001057600080fd5b604051610180806200231d833981016040528080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919050508b600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550620000f0620002ce6401000000000262001e0d176401000000009004565b1515620000f957fe5b8a600260156101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555089600360006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555088600360086101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555087600360106101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555086600360186101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555085600460006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555084600460086101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555083600460106101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555082600460186101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555081600560006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555080600560086101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550505050505050505050505050620003d2565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663985ac17633600560089054906101000a900467ffffffffffffffff1667ffffffffffffffff166040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b1515620003b557600080fd5b5af11515620003c357600080fd5b50505060405180519050905090565b611f3b80620003e26000396000f3006060604052600436106100af576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680634b9f5c98146100b457806359bbd5d7146100d957806379502c55146100fe5780637d467dcb146102135780638fe5c57814610240578063a21d942f1461024a578063a3ec138d14610277578063ac637c7a14610357578063b0eba13214610390578063b36bef57146103b2578063cdf58d351461041c575b600080fd5b34156100bf57600080fd5b6100d760048080351515906020019091905050610577565b005b34156100e457600080fd5b6100fc600480803515159060200190919050506106fb565b005b341561010957600080fd5b61011161097c565b604051808a67ffffffffffffffff1667ffffffffffffffff1681526020018967ffffffffffffffff1667ffffffffffffffff1681526020018867ffffffffffffffff1667ffffffffffffffff1681526020018767ffffffffffffffff1667ffffffffffffffff1681526020018667ffffffffffffffff1667ffffffffffffffff1681526020018567ffffffffffffffff1667ffffffffffffffff1681526020018467ffffffffffffffff1667ffffffffffffffff1681526020018367ffffffffffffffff1667ffffffffffffffff1681526020018267ffffffffffffffff1667ffffffffffffffff168152602001995050505050505050505060405180910390f35b341561021e57600080fd5b610226610a76565b604051808215151515815260200191505060405180910390f35b610248610b78565b005b341561025557600080fd5b61025d610ec7565b604051808215151515815260200191505060405180910390f35b341561028257600080fd5b6102ae600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506112ea565b60405180871515151581526020018673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001851515151581526020018467ffffffffffffffff1667ffffffffffffffff1681526020018367ffffffffffffffff1667ffffffffffffffff1681526020018267ffffffffffffffff1667ffffffffffffffff168152602001965050505050505060405180910390f35b341561036257600080fd5b61038e600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061139c565b005b6103b0600480803567ffffffffffffffff169060200190919050506115be565b005b34156103bd57600080fd5b6103c561186a565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b838110156104085780820151818401526020810190506103ed565b505050509050019250505060405180910390f35b341561042757600080fd5b610453600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506118fe565b604051808973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001881515151581526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001861515151581526020018567ffffffffffffffff1667ffffffffffffffff1681526020018467ffffffffffffffff1667ffffffffffffffff1681526020018367ffffffffffffffff1667ffffffffffffffff168152602001828103825287818151815260200191508051906020019060200280838360005b8381101561055c578082015181840152602081019050610541565b50505050905001995050505050505050505060405180910390f35b6000806000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002091508160000160009054906101000a900460ff161580156105fb575060008260020160119054906101000a900467ffffffffffffffff1667ffffffffffffffff16115b80156106265750600460009054906101000a900467ffffffffffffffff1667ffffffffffffffff1643105b801561066c575060008260000160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16145b801561067c575061067b610a76565b5b151561068457fe5b61068f338443611bf5565b600090505b81600101805490508110156106f6576106e982600101828154811015156106b757fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1633611ca1565b8080600101915050610694565b505050565b6000600460089054906101000a900467ffffffffffffffff1667ffffffffffffffff164314151561072857fe5b600090505b60018054905081101561097857600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635f839d5260018381548110151561078757fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018263ffffffff16815260200192505050600060405180830381600087803b151561083f57600080fd5b5af1151561084c57600080fd5b505050811561096b57600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663234907686001838154811015156108a257fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018263ffffffff16815260200192505050600060405180830381600087803b151561095a57600080fd5b5af1151561096757600080fd5b5050505b808060010191505061072d565b5050565b6000806000806000806000806000600260159054906101000a900467ffffffffffffffff169850600360009054906101000a900467ffffffffffffffff169750600360089054906101000a900467ffffffffffffffff169650600360109054906101000a900467ffffffffffffffff169550600360189054906101000a900467ffffffffffffffff169450600460009054906101000a900467ffffffffffffffff169350600460089054906101000a900467ffffffffffffffff169250600460109054906101000a900467ffffffffffffffff169150600460189054906101000a900467ffffffffffffffff169050909192939495969798565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663985ac17633600560009054906101000a900467ffffffffffffffff1667ffffffffffffffff166040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b1515610b5c57600080fd5b5af11515610b6957600080fd5b50505060405180519050905090565b600080600080600080600460109054906101000a900467ffffffffffffffff1667ffffffffffffffff1643148015610bd057506000600260159054906101000a900467ffffffffffffffff1667ffffffffffffffff16115b1515610bd857fe5b6000955060009450600093505b600180549050841015610cf557600080600186815481101515610c0457fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002092508260020160099054906101000a900467ffffffffffffffff1667ffffffffffffffff1686019550600260149054906101000a900460ff1615158360020160009054906101000a900460ff161515141515610ce8578260020160099054906101000a900467ffffffffffffffff1667ffffffffffffffff16850194505b8380600101945050610be5565b859150600093505b600180549050841015610ebf57600080600186815481101515610d1c57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000209250600260149054906101000a900460ff1615158360020160009054906101000a900460ff161515141515610db657610eb2565b600090506001808054905003841415610dd157819050610e2d565b84868460020160099054906101000a900467ffffffffffffffff1667ffffffffffffffff16811515610dff57fe5b04028360020160099054906101000a900467ffffffffffffffff160190508067ffffffffffffffff16820391505b600184815481101515610e3c57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc8267ffffffffffffffff169081150290604051600060405180830381858888f193505050501515610eb157600080fd5b5b8380600101945050610cfd565b505050505050565b600080600080600080600080600460089054906101000a900467ffffffffffffffff1667ffffffffffffffff1643141515610efe57fe5b6000600260159054906101000a900467ffffffffffffffff1667ffffffffffffffff16119650861561109a57600180549050955060009450600093505b600180549050841015610fef57600080600186815481101515610f5a57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002092508260020160009054906101000a900460ff1615610fe25784806001019550505b8380600101945050610f3b565b600360089054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff16101580156110535750600360189054906101000a900467ffffffffffffffff1667ffffffffffffffff168567ffffffffffffffff1610155b801561107c57506001600260018054905081151561106d57fe5b04018567ffffffffffffffff16115b600260146101000a81548160ff0219169083151502179055506112ce565b6001805490509550600091506000905060009450600093505b6001805490508410156111b5576000806001868154811015156110d257fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002092508260020160099054906101000a900467ffffffffffffffff1667ffffffffffffffff16820191508260020160009054906101000a900460ff16156111a85784806001019550508260020160099054906101000a900467ffffffffffffffff1667ffffffffffffffff16810190505b83806001019450506110b3565b600360089054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff161015801561120f5750600360009054906101000a900467ffffffffffffffff1667ffffffffffffffff168210155b80156112455750600360189054906101000a900467ffffffffffffffff1667ffffffffffffffff168567ffffffffffffffff1610155b801561126e57506001600260018054905081151561125f57fe5b04018567ffffffffffffffff16115b801561129a5750600360109054906101000a900467ffffffffffffffff1667ffffffffffffffff168110155b80156112b4575060016002838115156112af57fe5b040181115b600260146101000a81548160ff0219169083151502179055505b600260149054906101000a900460ff1697505050505050505090565b60006020528060005260406000206000915090508060000160009054906101000a900460ff16908060000160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020160009054906101000a900460ff16908060020160019054906101000a900467ffffffffffffffff16908060020160099054906101000a900467ffffffffffffffff16908060020160119054906101000a900467ffffffffffffffff16905086565b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060000160009054906101000a900460ff16158015611414575060008273ffffffffffffffffffffffffffffffffffffffff1614155b801561145a575060008160000160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16145b8015611488575060008160020160119054906101000a900467ffffffffffffffff1667ffffffffffffffff16115b80156114b35750600460009054906101000a900467ffffffffffffffff1667ffffffffffffffff1643105b80156114c357506114c2610a76565b5b15156114cb57fe5b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101805480600101828161151e9190611da8565b9160005260206000209001600033909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050818160000160016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506115ba3383611ca1565b5050565b6000806000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002091508160000160009054906101000a900460ff16158015611642575060008260020160119054906101000a900467ffffffffffffffff1667ffffffffffffffff16145b80156116e557506000600260159054906101000a900467ffffffffffffffff1667ffffffffffffffff16148015611683575060008367ffffffffffffffff16145b806116e457506000600260159054906101000a900467ffffffffffffffff1667ffffffffffffffff161180156116e35750600260159054906101000a900467ffffffffffffffff1667ffffffffffffffff168367ffffffffffffffff1610155b5b5b80156117295750600460189054906101000a900467ffffffffffffffff16600460009054906101000a900467ffffffffffffffff160367ffffffffffffffff164311155b80156117395750611738610a76565b5b151561174157fe5b828260020160098282829054906101000a900467ffffffffffffffff160192506101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550438260020160116101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550600180548060010182816117c49190611da8565b9160005260206000209001600033909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550508160000160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060008173ffffffffffffffffffffffffffffffffffffffff16141515611865576118643382611ca1565b5b505050565b611872611dd4565b60018054806020026020016040519081016040528092919081815260200182805480156118f457602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116118aa575b5050505050905090565b600080600061190b611dd4565b6000806000808897506000808a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900460ff1696506000808a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1695506000808a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101805480602002602001604051908101604052809291908181526020018280548015611a8a57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311611a40575b505050505094506000808a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff1693506000808a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160019054906101000a900467ffffffffffffffff1692506000808a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160099054906101000a900467ffffffffffffffff1691506000808a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160119054906101000a900467ffffffffffffffff169050919395975091939597565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905060018160000160006101000a81548160ff021916908315150217905550828160020160006101000a81548160ff021916908315150217905550818160020160016101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555050505050565b6000808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900460ff1615611da457611da3826000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff166000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160019054906101000a900467ffffffffffffffff16611bf5565b5b5050565b815481835581811511611dcf57818360005260206000209182019101611dce9190611de8565b5b505050565b602060405190810160405280600081525090565b611e0a91905b80821115611e06576000816000905550600101611dee565b5090565b90565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663985ac17633600560089054906101000a900467ffffffffffffffff1667ffffffffffffffff166040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b1515611ef357600080fd5b5af11515611f0057600080fd5b505050604051805190509050905600a165627a7a723058207ef039f610a570d399183b1fa6ac5f6bf226a0bfc426e81d33bccea9e2829c100029`
)

type Vote struct {
	BoundContract
	ctx *CallContext
}

type VoterInfo struct {
	Addr ethcom.Address
	Voted bool
	Delegate ethcom.Address
	AsDelegates []ethcom.Address
	Approval bool
	VoteBlock uint64
	Deposit uint64
	DepositBlock uint64
}


func NewVote(ctx *CallContext, address common.Address, bc *BoundContract) (*Vote) {
	return &Vote{
		BoundContract: *newBoundContract(address, bc.abi),
		ctx: ctx,
	}
}

func (v *Vote) CheckResult() (bool, error) {
	if ret, err := v.ResultCall(v.ctx, func() interface{} {
		return bool(false)
	},  NewCallOpt(nil, "checkResult")); err != nil {
		return false, err
	} else {
		return ret.(bool), nil
	}

}

func (v *Vote) HandleDeposit() error {
	return v.NoResultCall(v.ctx, NewCallOpt(nil, "handleDeposit"))
}

func (v *Vote) UpdateCredit(pass bool) error {
	return v.NoResultCall(v.ctx, NewCallOpt(nil, "updateCredit", pass))
}

func (v *Vote) VoterInfo(addr common.Address) (*VoterInfo, error) {
	if v, err := v.ResultCall(v.ctx, func() interface{} {
		return &VoterInfo{}
	},  NewCallOpt(nil,"voterInfo", addr)); err != nil {
		return nil, err
	} else {
		return v.(*VoterInfo), nil
	}
}

func (v *Vote) VoterAddrs() ([]ethcom.Address, error) {
	if v, err := v.ResultCall(v.ctx, func() interface{} {
		return &[]ethcom.Address{}
	},  NewCallOpt(nil, "voterAddrList")); err != nil {
		return nil, err
	} else {
		return *(v.(*[]ethcom.Address)), nil
	}
}


func (v *Vote) ScoreOf(addr common.Address) (*big.Int, error) {
	if v, err := v.ResultCall(v.ctx, func() interface{} {
		return new(big.Int)
	},  NewCallOpt(nil, "scoreOf", addr)); err != nil {
		return nil, err
	} else {
		return v.(*big.Int), nil
	}
}